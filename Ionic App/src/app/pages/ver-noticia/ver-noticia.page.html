<ion-header >
  <ion-toolbar color="primary">
  <ion-buttons slot ="start">
      <ion-back-button></ion-back-button>
  </ion-buttons>
    <ion-title>Noticias</ion-title>
  </ion-toolbar>

</ion-header>
  <!--!session en falso no se a logeado tolbar agregar comentario -->
<ion-content>
  
  <ion-card > 
    <ion-list >
    <ion-card-header>
        <ion-card-title style="text-align: center;"> {{noticia.titulo }} </ion-card-title> <br>
        <ion-card-subtitle class="subtitles">
          <div style="text-align: end;">
              <ion-label>Fecha : {{noticia.fechaPublicacion | date:"dd-MM-yyyy"}}
              </ion-label>
          </div>
      </ion-card-subtitle>                
        
      <ion-list>          
          <ion-slides [options]="{}" pager="true">
            <ion-slide *ngFor="let image of noticia.listaImagenes" class="image-slide"
                        [style]="(image | imgServer: 'noticias') | domSanitizer" ></ion-slide>
          </ion-slides>
      </ion-list>
      
        <ion-item>
        {{noticia.descripcion}}
      </ion-item>
      <ion-list  *ngIf="noticia.listaComentariosNoticia.length >0">
      <ion-label style="text-align: center; font-size: 17px; font-weight: bold;"> Comentarios </ion-label>
        <ion-list *ngFor="let comentarios of noticia.listaComentariosNoticia; let y = index">
          <ion-label style="color: blue;" >
              {{ comentarios.nombreUsuario }} <br>
          </ion-label> 
          <div *ngIf="session">
            <ion-buttons style="display: flex; float:right;">
                <ion-button (click)="abrirOpciones(comentarios.id,usuario.Id,comentarios.usuarioId)"  color="light" ><ion-icon name="ellipsis-vertical-outline" style="color: black; border-color: blanchedalmond;"></ion-icon></ion-button>
            </ion-buttons>
            </div> 
          <ion-label>
              {{comentarios.descripcion}} <br>
              {{comentarios.fechaPublicacion | date:"dd-MM-yyyy"}}<br>
          </ion-label>
        </ion-list>
      </ion-list> 
      <ion-list *ngIf="noticia.listaComentariosNoticia.length ==0">
          <ion-item>
          <ion-label  style="color :blue;"> NO HAY COMENTARIOS  </ion-label>
          </ion-item>
      </ion-list> 
    </ion-card-header> 
  </ion-list>
</ion-card>

</ion-content>
<ion-footer *ngIf="session">
  <form #formRegistro="ngForm" (ngSubmit)="agregarComentario(formRegistro)">
    <ion-item style="background-color: blue;">
        <ion-textarea  name="nombre" required [(ngModel)]="registerUser.comentar" type="text" placeholder="Comentar"></ion-textarea>
      <ion-button slot="end" type="submit"><ion-icon name="paper-plane"></ion-icon></ion-button>
          </ion-item>
  </form>
</ion-footer>
